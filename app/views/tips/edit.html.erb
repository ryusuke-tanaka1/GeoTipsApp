<% provide(:title, "Tips編集") %>

<h1>Tipsの編集</h1>
<div class="row">
  <div class="col-md-8 col-md-offset-2">
    <%= form_with(model: @tip, url: user_tip_path, local: true) do |f| %>
      <%= render 'shared/tip_error_messages' %>
      <%= f.label :country, class: "label-tips" %>
      <%= f.select :country, @countries, { selected: @tip.country }, class: "form-control" %>

      <%= f.label :tips_type, class: "label-tips" %>
      <%= f.select :tips_type, @categories, { selected: @tip.tips_type }, class: "form-control" %>

      <%= f.label :tips_content, class: "label-tips" %>
      <%= f.text_area :tips_content, class: "form-control" %>

      <%= f.label :street_view, class: "label-tips" %>
        <%= link_to "URLの貼り付け方はこちら", tips_how_to_street_view_path, remote: true, class: "how-to" %>
      <%= f.text_field :street_view, class: "form-control" %>

      <%= f.label :img, class: "label-tips" %>
      <%= f.file_field :img, class: 'form-control' %>
      <%= f.hidden_field :img_cache %>

      <% if @tip.img.present? %>
        <%= f.label :remove_img, class: "checkbox inline checkbox-img", for: "remove_img" do %>
          <%= f.check_box :remove_img, id: "remove_img" %>
          <span>アップロードされている画像を削除する</span>
        <% end %>
        <p>
          <%= image_tag @tip.img.url, class: 'rounded-circle mr15', width: '100%' %>
        </p>
      
      <% end %>
      

      <%= f.submit "編集", class: "btn btn-block btn-primary btn-tips-form" %>
    <% end %>
  </div>
</div>


<div id="how-to-street-view" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true"></div>